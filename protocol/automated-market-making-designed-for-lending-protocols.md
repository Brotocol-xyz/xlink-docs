# 收益代币池

有关该主题的更详细的资料，请参阅我们的[白皮书](https://docs.alexgo.io/v/cn/whitepaper/automated-market-making-of-alex)

## 借贷流程

ALEX的核心产品本质上是传统金融中的零息债券。一个关键的好处是降低了贷款利率的不确定性，从而实现了更好的财务规划。具体而言，在进入借贷合约之前，借贷双方在 ALEX上确保贷款的利率和期限。

具体而言，例如：Rachel 有 100 美元，她想增加她的 100 美元。Rachel 选择借出她的资产。她可以按三个月的固定期限借出她的 100 美元。Rachel 转到 ALEX 的界面。在那里，她可以看到 “三个月 ayUSD 代币” 目前的价格为 0.9 vs 美元。换言之，1个 ayUSD 代币等价于 0.9 美元。她拿出她的 100 美元并将其兑换成 ayUSD代币。根据当前汇率，她可以得到大约 110 ayUSD。三个月过去了。现在，Rachel 可以再次将她的 110 ayUSD 兑换成美元。现在的汇率是 1个 ayUSD 代币兑 1 美元。所以 Rachel 得到了 110 美元。Rachel 的100美元在 3 个月内增加了 10 美元。太棒了！

一般而言，借款人和贷款人进入一个借贷合约，他们将一个名为 “ayToken \(收益代币\) ” 的基于远期合约的代币与 “Token \(代币\)” 交换。 “Token \(代币\)” 是基础资产。例如，他们用美元交换 ayUSD \(美元/稳定币收益代币\)。更一般地讲，贷方借出 “Token \(代币\)” 并获得 “ayToken \(收益代币\)” 作为回报。“Token \(代币\)” 的价格低于其面值。当贷方将 “Token \(代币\)” 存入 ALEX 池时，合约开始。然后，在到期日，贷方以面值赎回标的资产 “Token \(代币\)”。因为贷方在合约期初把自己的 “Token \(代币\)” 打折出借，现在以面值赎回 “Token \(代币\)”，获得相应的利润。太棒了！

在数学上，利率 r 计算为$$p_{t}=\frac{1}{e^{rt}}$$，其中$$p_{t}$$是 ayToken \(收益代币\) 的现货价格，假设利率为复利。该公式利用了资产定价中最基本的原则之一：资产的现值是资产未来价值的贴现。因此，在我们的简化示例中，$$t$$= 1 同时$$r=\log\frac{1}{0.9}\approx10\%$$。

## 自动做市 \(AMM\) 协议

在设计自动做市 \(AMM\) 协议时，ALEX 相信以下几点： 

1. AMM 在数学上很简洁，反映了经济的供需状况。例如，当需求高或供应低时，资产的价格应该上涨； 
2. AMM 是一种形式的均值，在交易活动期间保持不变。_Uniswap_ 等流行的交易平台也采用了这种方法，它们采用了恒定乘积算法；
3. AMM 可以通过现代金融理论的视角来解释。这样做可以加速 ALEX 成长并与传统金融进行比较。

经过广泛的研究，我们的想法和创意使我们想到了 _YieldSpace_ 首次提出的自动做市 \(AMM\) 协议。我们欣赏 _YieldSpace_ 推导的数学之美，但同时我们也在 ALEX 平台以多种方式对其进行了补充和调整。例如，我们用复利代替单利。这一修正更符合自 Black and Scholes 以来金融定价和建模的标准用途。同时，我们还提出了新的资金使用率方案。

在数学方面，我们的 AMM 可以表示为：

$$
x^{1-t}+y^{1-t}=L
$$

其中 $$x$$, $$y$$, $$t$$ 和 $$L$$ 分别代表 “Token \(代币\)” 余额、“ayToken \(收益代币\)” 余额、到期时间和固定期限下的一个常数项。利率$$r$$定义为$$r=\log\left(\frac{y}{x}\right)$$，即 “ayToken \(收益代币\)” 和 “Token \(代币\)” 之间余额比率的自然对数，同时 “ayToken \(收益代币\)” 相对于 “Token \(代币\)” 的价格是$$\left(\frac{y}{x}\right)^{t}$$。

我们的设计以广义均值的形式描绘了自动做市 \(AMM\) 协议。它具有经济意义，因为曲线的形状呈递减和凸性。我们的自动做市协议考虑了到期时间$$t$$，以使得我们可以推导出 ayToken \(收益代币\) 的现货价格。如果需要了解更详细的信息，请参阅我们的[白皮书](https://docs.alexgo.io/v/cn/whitepaper/automated-market-making-of-alex)。 

## 流动性提供者 \(LP\) 和资金使用率

流动性提供者 \(LP\) 将 ayToken \(收益代币\) 和 Token \(代币\) 存入一个池中以促进交易活动。流动性提供者 \(LP\) 通常需要在所有可能的利率变动情况下做市，范围从$$-\infty$$到$$+\infty$$。然而，部分利率曲线或利率的变动永远不会被市场参与者使用或者考虑。例如，利率为负的部分。尽管中央银行可以在传统金融领域引入负利率作为货币政策工具，但是在加密货币世界里流动性挖矿者并不期待负利率的存在。在 ALEX 平台，正利率是指 ayToken \(收益代币\) 的现货价格不超过 1，并且 ayToken \(收益代币\) 的储备大于 Token \(基础代币\)。

受 _Uniswap v3_ 的启发，ALEX 使用了虚拟代币 - 部分永远不会被触及的资产，因此也不需要由流动性提供者 \(LP\) 来提供或持有。

![Figure 1](../.gitbook/assets/cecjing.png)

图 1 说明了在正利率情况下采用虚拟代币的示例。蓝线是标准的自动做市曲线。蓝点表示 Token \(基础代币\) 和 ayToken \(收益代币\) 等量，余额为$$y_{v}$$的情况，也就是说此时利率为 0%。$$y_{v}$$是一个边界量，因为任何低于它的数量将永远不会被流动性提供者 \(LP\) 触及以避免负利率，我们用蓝色虚线表示。因此，$$y_{v}$$是虚拟代币储备。更有效地来看，将蓝线向下移动$$y_{v}$$，流动性提供者实际上是在红线上做市。当 ayToken \(收益代币\) 如红色虚线所示耗尽时，交易活动暂停。

表 1 中提供的数值示例显示了在不同利率水平下的资金使用率，为了方便说明，假设$$t$$= 0.5 和$$L$$= 20。当前利率$$r$$=10% 时的情况下，按照标准自动做市曲线，流动性提供者 \(LP\) 需要存入95个 token \(基础代币\) 和105个ayToken \(收益代币\)。但是，当限定利率下限为 0%，流动性提供者 \(LP\) 则只需要提供 5 个 ayToken \(收益代币\)，其余 100 个 ayToken \(收益代币\) 则为虚拟代币。由此，我们节省了超过 90% 的资金使用。

![Table 1: Capital Efficiency when Interest Rate is Floored at 0](../.gitbook/assets/cectable3.png)

## 收益率曲线和流动性挖矿

通过将利率表示为$$p_{t}=\frac{1}{e^{rt}}$$，i.e. $$r=-\frac{1}{t}\log p_{t}$$，我们可以从不同期限的交易池价格中获得一系列利率，在此基础上我们可以建立收益率曲线。收益率曲线是在传统金融中模拟无风险利率的基准工具。曲线的形状决定了对未来利率路径的预期，这有助于市场参与者了解市场行为和趋势。目前，我们或许能够从芝加哥商品交易所 \(CME\) 上市的比特币期货中建立比特币收益率曲线。然而，该交易所不仅受到严格监管，其交易量也偏向于仅持续几个月的非常短期的前端合约。ALEX 的目标是在平台上线时，提供长达 1 年的固定期限合约。当市场更为成熟时，ALEX 可能会提供更长的交易期限。

通过购买相应期限的高利率 ayToken \(收益代币\) 同时出售相应期限的低利率 ayToken \(收益代币\)，流动性挖矿者可以通过在收益曲线的不同区间交易而获利。这是典型的“息差套利”策略。

最后，基于我们自动做市协议的收益率曲线的发展和扎实的研究设计工作，ALEX 将能够提供更多的 DeFi 产品。具体而言，通过建立和扩展大量传统金融领域的文献和应用，ALEX 将能够提供包括期权和结构性产品等在内的衍生产品。

